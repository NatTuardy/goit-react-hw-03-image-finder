(this.webpackJsonplesson_4=this.webpackJsonplesson_4||[]).push([[0],{21:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2Vaj5"}},24:function(e,t,a){e.exports={Button:"Button_Button__3vE_A"}},25:function(e,t,a){e.exports={App:"App_App__joLbl"}},28:function(e,t,a){e.exports=a(72)},7:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3kh6H",SearchForm:"Searchbar_SearchForm__1-Esp",SearchFormButton:"Searchbar_SearchFormButton__qJX4q",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2fXO_",SearchFormInput:"Searchbar_SearchFormInput__3Pt5I","SearchForm-input":"Searchbar_SearchForm-input__2XWI8"}},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),c=a.n(o),l=a(10),i=a(3),s=a(4),u=a(6),m=a(5),h=a(26),p=a(27),g=a(8),d=a.n(g),f=function(e){var t=e.image,a=e.openModal;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:d.a.ImageGalleryItem},r.a.createElement("img",{src:t.link,alt:t.tag,className:d.a.ImageGalleryItemImage,onClick:function(e){return a(e)},"data-largelink":t.largeLink})))},y=a(21),b=a.n(y),S=a(9),_=a.n(S),v=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={},e.backdropRef=Object(n.createRef)(),e.handleKeyPress=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackDropClick=function(t){var a=e.backdropRef.current;a&&t.target!==a||e.props.onClose()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){return r.a.createElement("div",{className:_.a.Overlay,ref:this.backdropRef,onClick:this.handleBackDropClick},r.a.createElement("div",{className:_.a.Modal},r.a.createElement("img",{src:this.props.nowImage,alt:"cat"})))}}]),a}(n.Component),I=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isModalOpen:!1,nowImage:""},e.openModal=function(t){var a=t.target.dataset.largelink;e.setState({isModalOpen:!0,nowImage:a})},e.closeModal=function(){return e.setState({isModalOpen:!1})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:b.a.ImageGallery},this.props.images.map((function(t){return r.a.createElement(f,{key:t.id,image:t,openModal:e.openModal})}))),this.state.isModalOpen&&r.a.createElement(v,{onClose:this.closeModal,nowImage:this.state.nowImage}))}}]),a}(n.Component),E=a(22),k=a.n(E),O={fontSize:40},w=function(){return r.a.createElement("div",null,r.a.createElement("h1",{style:O},"Loading..."),r.a.createElement(k.a,{type:"Audio",color:"#00BFFF",height:80,width:80}))},C=function(e){var t=e.text;return r.a.createElement("hi",null,"Whoops, something went wrong: ",t)},F=a(23),L=a.n(F),j=function(e,t){return L.a.get("https://pixabay.com/api/?q="+e+"&page="+t+"&key=16043897-ab8e24fa19c26825a4377ea35&image_type=photo&orientation=horizontal&per_page=12")},B=a(7),M=a.n(B),G=function(e){var t=e.query,a=e.onChange,n=e.onSubmit;return r.a.createElement("header",{className:M.a.Searchbar},r.a.createElement("form",{className:M.a.SearchForm,onSubmit:n},r.a.createElement("button",{type:"submit",className:M.a.SearchFormButton,onChange:a},r.a.createElement("span",{className:M.a.SearchFormButtonLabel},"Search")),r.a.createElement("input",{className:M.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:a,value:t})))},N=a(24),q=a.n(N),x=function(e){var t=e.onClick;return r.a.createElement("button",{type:"button",onClick:t,className:q.a.Button},"Load more")},A=a(25),R=a.n(A),U=function(e){return e.map((function(e){var t=e.webformatURL,a=e.largeImageURL,n=Object(p.a)(e,["webformatURL","largeImageURL"]);return Object(h.a)({link:t,largeLink:a},n)}))},D=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={images:[],isLoading:!1,error:null,query:"",page:1},e.onScroll=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},e.fetchImage1=function(){j(e.state.query).then((function(t){var a=t.data;e.setState({images:U(a.hits),page:1})})).catch((function(t){return e.setState({error:t})})).finally((function(){e.setState({isLoading:!1})}))},e.handleQueryChange=function(t){e.setState({query:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.setState({isLoading:!0}),e.fetchImage1(),e.setState({query:""})},e.onButtonClick=function(){e.setState({isLoading:!0}),j(e.state.query,e.state.page+1).then((function(t){var a=t.data;e.setState((function(e){return{images:[].concat(Object(l.a)(e.images),Object(l.a)(U(a.hits))),page:e.page+1}}))})).then((function(){return e.onScroll()})).catch((function(t){return e.setState({error:t})})).finally((function(){e.setState({isLoading:!1})}))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.images,a=e.isLoading,n=e.error,o=e.query;return r.a.createElement("div",{className:R.a.App},r.a.createElement(G,{onChange:this.handleQueryChange,query:o,onSubmit:this.handleSubmit}),n&&r.a.createElement(C,{text:n.message}),a&&r.a.createElement(w,null),t.length>0&&r.a.createElement(I,{images:t}),t.length>0&&r.a.createElement(x,{onClick:this.onButtonClick}))}}]),a}(n.Component);a(71);c.a.render(r.a.createElement(D,null),document.getElementById("root"))},8:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2UvGF",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3uwdk"}},9:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1uIay",Modal:"Modal_Modal__2dusX"}}},[[28,1,2]]]);
//# sourceMappingURL=main.723b2597.chunk.js.map