{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/Loder/Loader.js","components/ErrorNotification/ErrorNotification.js","services/Api.js","components/Searchbar/Searchbar.js","components/Button/Button.js","App.js","index.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css"],"names":["module","exports","ImageGalleryItem","image","openModal","className","styles","src","link","alt","tag","ImageGalleryItemImage","onClick","e","data-largelink","largeLink","Modal","state","backdropRef","createRef","handleKeyPress","code","props","onClose","handleBackDropClick","current","target","window","addEventListener","this","removeEventListener","Overlay","ref","nowImage","Component","ImageGallery","isModalOpen","dataset","largelink","setState","closeModal","images","map","key","id","fontSize","Loader1","style","type","color","height","width","ErrorNotification","text","fetchImage","query","page","axios","get","baseUrl","Searchbar","onChange","onSubmit","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","Button","mapper","webformatURL","largeImageURL","App","isLoading","error","onScroll","scrollTo","top","document","documentElement","scrollHeight","behavior","fetchImage1","imageAPI","then","data","hits","catch","finally","handleQueryChange","handleSubmit","preventDefault","onButtonClick","prev","message","Loader","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.723b2597.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2Vaj5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3vE_A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__joLbl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3kh6H\",\"SearchForm\":\"Searchbar_SearchForm__1-Esp\",\"SearchFormButton\":\"Searchbar_SearchFormButton__qJX4q\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2fXO_\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3Pt5I\",\"SearchForm-input\":\"Searchbar_SearchForm-input__2XWI8\"};","import React from 'react';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ image, openModal }) => (\r\n  <>\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={image.link}\r\n        alt={image.tag}\r\n        className={styles.ImageGalleryItemImage}\r\n        onClick={e => openModal(e)}\r\n        data-largelink={image.largeLink}\r\n      />\r\n    </li>\r\n  </>\r\n);\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component, createRef } from 'react';\r\nimport styles from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n  state = {};\r\n  backdropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = e => {\r\n    if (e.code !== 'Escape') return;\r\n    this.props.onClose();\r\n  };\r\n\r\n  handleBackDropClick = e => {\r\n    const { current } = this.backdropRef;\r\n    if (current && e.target !== current) return;\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={styles.Overlay}\r\n        ref={this.backdropRef}\r\n        onClick={this.handleBackDropClick}>\r\n        <div className={styles.Modal}>\r\n          <img src={this.props.nowImage} alt=\"cat\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\nimport Modal from '../Modal/Modal';\r\n\r\n// const ImageGallery = ({ images }) => (\r\n//   <ul className={styles.ImageGallery}>\r\n//     {images.map(image => (\r\n//       <ImageGalleryItem key={image.id} image={image} />\r\n//     ))}\r\n//   </ul>\r\n// );\r\n\r\n// export default ImageGallery;\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    isModalOpen: false,\r\n    nowImage: '',\r\n  };\r\n\r\n  openModal = e => {\r\n    const link = e.target.dataset.largelink;\r\n\r\n    this.setState({\r\n      isModalOpen: true,\r\n      nowImage: link,\r\n    });\r\n  };\r\n\r\n  closeModal = () => this.setState({ isModalOpen: false });\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <ul className={styles.ImageGallery}>\r\n          {this.props.images.map(image => (\r\n            <ImageGalleryItem\r\n              key={image.id}\r\n              image={image}\r\n              openModal={this.openModal}\r\n            />\r\n          ))}\r\n        </ul>\r\n        {this.state.isModalOpen && (\r\n          <Modal onClose={this.closeModal} nowImage={this.state.nowImage} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nconst styles = { fontSize: 40 };\r\n\r\nconst Loader1 = () => (\r\n  <div>\r\n    <h1 style={styles}>Loading...</h1>\r\n    <Loader type=\"Audio\" color=\"#00BFFF\" height={80} width={80} />\r\n  </div>\r\n);\r\n\r\nexport default Loader1;\r\n","import React from 'react';\r\n\r\nconst ErrorNotification = ({ text }) => (\r\n  <hi>Whoops, something went wrong: {text}</hi>\r\n);\r\n\r\nexport default ErrorNotification;\r\n","import axios from 'axios';\r\n\r\n// const BASE_URL = 'https://hn.algolia.com/api/v1/search?query=';\r\n\r\n// export const fetchArticles = (query = 'react') => axios.get(BASE_URL + query);\r\n\r\n// const URL =\r\n//   'https://pixabay.com/api/?q=cat&page=1&key=16043897-ab8e24fa19c26825a4377ea35&image_type=photo&orientation=horizontal&per_page=12';\r\n\r\nconst baseUrl = 'https://pixabay.com/api/?q=';\r\n\r\nconst pageUrl = '&page=';\r\nconst keyUrl = '&key=16043897-ab8e24fa19c26825a4377ea35';\r\nconst optionsUrl = '&image_type=photo&orientation=horizontal&per_page=12';\r\n\r\nexport const fetchImage = (query, page) =>\r\n  axios.get(baseUrl + query + pageUrl + page + keyUrl + optionsUrl);\r\n","import React from 'react';\r\nimport styles from './Searchbar.module.css';\r\n\r\nconst Searchbar = ({ query, onChange, onSubmit }) => (\r\n  <header className={styles.Searchbar}>\r\n    <form className={styles.SearchForm} onSubmit={onSubmit}>\r\n      <button\r\n        type=\"submit\"\r\n        className={styles.SearchFormButton}\r\n        onChange={onChange}>\r\n        <span className={styles.SearchFormButtonLabel}>Search</span>\r\n      </button>\r\n\r\n      <input\r\n        className={styles.SearchFormInput}\r\n        type=\"text\"\r\n        autoComplete=\"off\"\r\n        autoFocus\r\n        placeholder=\"Search images and photos\"\r\n        onChange={onChange}\r\n        value={query}\r\n      />\r\n    </form>\r\n  </header>\r\n);\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => (\r\n  <button type=\"button\" onClick={onClick} className={styles.Button}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Loader1 from './components/Loder/Loader';\nimport ErrorNotification from './components/ErrorNotification/ErrorNotification';\nimport * as imageAPI from './services/Api';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport Button from './components/Button/Button';\nimport styles from './App.module.css';\n\nconst mapper = images => {\n  return images.map(\n    ({ webformatURL: link, largeImageURL: largeLink, ...props }) => ({\n      link,\n      largeLink,\n      ...props,\n    }),\n  );\n};\n\nclass App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    error: null,\n    query: '',\n    page: 1,\n  };\n\n  onScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  fetchImage1 = () => {\n    imageAPI\n      .fetchImage(this.state.query)\n      .then(({ data }) => {\n        this.setState({ images: mapper(data.hits), page: 1 });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  handleQueryChange = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.setState({ isLoading: true });\n    this.fetchImage1();\n    this.setState({ query: '' });\n  };\n\n  onButtonClick = () => {\n    this.setState({ isLoading: true });\n    imageAPI\n      .fetchImage(this.state.query, this.state.page + 1)\n      .then(({ data }) => {\n        this.setState(prev => ({\n          images: [...prev.images, ...mapper(data.hits)],\n          page: prev.page + 1,\n        }));\n      })\n      .then(() => this.onScroll())\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  render() {\n    const { images, isLoading, error, query } = this.state;\n    return (\n      <div className={styles.App}>\n        <Searchbar\n          onChange={this.handleQueryChange}\n          query={query}\n          onSubmit={this.handleSubmit}\n        />\n        {error && <ErrorNotification text={error.message} />}\n        {isLoading && <Loader1 />}\n        {images.length > 0 && <ImageGallery images={images} />}\n        {images.length > 0 && <Button onClick={this.onButtonClick} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n// import styles from './App.module.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2UvGF\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3uwdk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1uIay\",\"Modal\":\"Modal_Modal__2dusX\"};"],"sourceRoot":""}